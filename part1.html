<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Home GPU Clusters - Part 1: Fundamentals & Theory</title>
    
    <style>
        :root {
            --primary-color: #0c7b93;
            --secondary-color: #00a8cc;
            --accent-color: #ffc947;
            --text-color: #2c3e50;
            --text-light: #6c7b7f;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --border-color: #e2e8f0;
            --success-color: #22c55e;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .part-indicator {
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1.5rem;
            border-radius: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            backdrop-filter: blur(10px);
        }

        .progress-nav {
            background: var(--card-bg);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            margin: 0 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section {
            margin: 4rem 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            position: relative;
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 2px;
        }

        .section-header p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }

        .card h3 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-icon {
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
        }

        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .interactive-demo {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .demo-content h3 {
            margin-bottom: 1rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .comparison-table th {
            background: var(--primary-color);
            color: white;
            padding: 1rem;
            font-weight: 600;
            text-align: left;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--card-bg);
        }

        .comparison-table tr:nth-child(even) td {
            background: #f8fafc;
        }

        .spec-highlight {
            font-weight: 600;
            color: var(--primary-color);
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .tooltip {
            position: relative;
            cursor: help;
            border-bottom: 1px dotted var(--primary-color);
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }

        footer {
            background: var(--text-color);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .progress-bar {
                margin: 0;
                order: -1;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeInUp 0.6s ease forwards;
        }
    </style>
</head>
<body>
    <header class="header">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
            <div class="part-indicator">Part 1 of 4</div>
            <h1>Building Home GPU Clusters</h1>
            <p class="subtitle">Fundamentals & Theory: Understanding GPU Architecture, Memory Systems, and Interconnect Technologies</p>
        </div>
    </header>

    <nav class="progress-nav">
        <div class="nav-content">
            <div>Part 1: Fundamentals & Theory</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div>Scroll to explore</div>
        </div>
    </nav>

    <main class="container">
        <section id="overview" class="section">
            <div class="section-header">
                <h2>Introduction: The GPU Cluster Revolution</h2>
                <p>Home GPU clusters have transformed from experimental setups to practical reality, enabling unprecedented AI capabilities at residential scale.</p>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h3><div class="card-icon">🚀</div>Revolutionary Performance</h3>
                    <p><strong>NVLink 5.0</strong> delivers <span class="spec-highlight">1.8 TB/s per GPU bandwidth</span> while new RDMA implementations reduce inter-node latency to just <span class="spec-highlight">2-5 microseconds</span>.</p>
                    <p>Modern distributed inference frameworks like NVIDIA's Dynamo promise <span class="spec-highlight">30x throughput improvements</span>, making home clusters capable of running 405B parameter models.</p>
                </div>

                <div class="card">
                    <h3><div class="card-icon">💰</div>Cost-Effective Scaling</h3>
                    <p>A well-configured <span class="spec-highlight">4-node cluster with modern GPUs</span> can now run models that previously required data center infrastructure.</p>
                    <p>Break-even analysis shows home clusters achieve cost parity with cloud APIs within <span class="spec-highlight">2-2.5 years</span> for heavy usage patterns.</p>
                </div>
            </div>

            <div class="interactive-demo">
                <div class="demo-content">
                    <h3>🧮 GPU Memory Bandwidth Analysis</h3>
                    <p>Understanding bandwidth calculations is crucial for GPU selection:</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                        <h4 style="margin-bottom: 1rem;">Bandwidth Formula:</h4>
                        <div class="code-block">
Bandwidth (GB/s) = (Bus Width × Memory Speed × Data Rate) ÷ 8

Examples:
RTX 4090: (384 bits × 21 Gbps × 1) ÷ 8 = 1,008 GB/s
RTX 3090: (384 bits × 19.5 Gbps × 1) ÷ 8 = 936 GB/s
A100 HBM2e: (5,120 bits × 1.6 Gbps × 1) ÷ 8 = 1,935 GB/s
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                            <div style="background: var(--success-color); padding: 1rem; border-radius: 6px; text-align: center;">
                                <strong>1000+ GB/s</strong><br>
                                Data Center Class
                            </div>
                            <div style="background: var(--primary-color); padding: 1rem; border-radius: 6px; text-align: center;">
                                <strong>500-1000 GB/s</strong><br>
                                High-end AI/Gaming
                            </div>
                            <div style="background: var(--warning-color); padding: 1rem; border-radius: 6px; text-align: center;">
                                <strong>200-500 GB/s</strong><br>
                                Entry-level AI
                            </div>
                            <div style="background: var(--error-color); padding: 1rem; border-radius: 6px; text-align: center;">
                                <strong>&lt;200 GB/s</strong><br>
                                Gaming Only
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

         <section id="gpu-architecture" class="section">
            <div class="section-header">
                <h2>GPU Architecture Fundamentals</h2>
                <p>Understanding the core components that enable massive parallel processing and high-bandwidth memory access.</p>
            </div>

            <div style="background: var(--card-bg); border-radius: 12px; padding: 2rem; margin: 2rem 0; border: 2px solid var(--border-color);">
                <h3>Modern GPU Memory Hierarchy</h3>
                <div style="display: flex; justify-content: center; align-items: center; margin: 2rem 0; flex-wrap: wrap; gap: 1rem;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                        <strong>Registers</strong>
                        <div>Ultra-fast, limited capacity</div>
                    </div>
                    <div style="color: var(--primary-color); font-size: 1.5rem;">→</div>
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                        <strong>L1 Cache</strong>
                        <div>Per-SM, low latency</div>
                    </div>
                    <div style="color: var(--primary-color); font-size: 1.5rem;">→</div>
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                        <strong>L2 Cache</strong>
                        <div>Shared, 32MB+ in Ada</div>
                    </div>
                    <div style="color: var(--primary-color); font-size: 1.5rem;">→</div>
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                        <strong>VRAM</strong>
                        <div>Global memory, high capacity</div>
                    </div>
                </div>
                <p><strong>Key Insight:</strong> NVIDIA's Ada Lovelace architecture increases L2 cache by <span class="spec-highlight">16X</span> to 32MB, reducing memory bus traffic by over 50% and enabling 2X more efficient bandwidth utilization.</p>
            </div>

            <div class="grid grid-3">
                <div class="card">
                    <h3><div class="card-icon">🔧</div>Streaming Multiprocessors (SMs)</h3>
                    <p>Each SM contains multiple CUDA cores, tensor cores, and shared memory. RTX 4090 features <span class="spec-highlight">128 SMs</span> with 16,384 CUDA cores total.</p>
                    <p>Modern architectures implement <span class="tooltip" data-tooltip="Unified shader architecture where any shader can perform vertex, pixel, or compute operations">unified shader architecture</span> for maximum flexibility.</p>
                </div>

                <div class="card">
                    <h3><div class="card-icon">⚡</div>Memory Controllers</h3>
                    <p>High-end GPUs feature <span class="spec-highlight">12-16 memory controllers</span> connected to GDDR6/6X chips via a wide memory bus.</p>
                    <p>Each controller manages 32-bit channels, with RTX 4090's 384-bit bus utilizing 12 controllers for optimal bandwidth distribution.</p>
                </div>

                <div class="card">
                    <h3><div class="card-icon">🎯</div>Tensor Cores</h3>
                    <p>Specialized AI acceleration units supporting <span class="spec-highlight">FP16, BF16, INT8, INT4</span> precision formats.</p>
                    <p>Fourth-generation Tensor Cores in Ada Lovelace deliver <span class="spec-highlight">5X performance improvement</span> for AI inference compared to previous generations.</p>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>GPU Architecture</th>
                        <th>CUDA Cores</th>
                        <th>Tensor Cores</th>
                        <th>Memory Bus</th>
                        <th>L2 Cache</th>
                        <th>Memory Bandwidth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RTX 4090 (Ada)</td>
                        <td class="spec-highlight">16,384</td>
                        <td class="spec-highlight">128 (4th gen)</td>
                        <td>384-bit</td>
                        <td class="spec-highlight">72MB</td>
                        <td>1,008 GB/s</td>
                    </tr>
                    <tr>
                        <td>RTX 3090 (Ampere)</td>
                        <td>10,496</td>
                        <td>328 (3rd gen)</td>
                        <td>384-bit</td>
                        <td>6MB</td>
                        <td>936 GB/s</td>
                    </tr>
                    <tr>
                        <td>A100 (Ampere)</td>
                        <td>6,912</td>
                        <td>432 (3rd gen)</td>
                        <td>5,120-bit HBM2e</td>
                        <td>40MB</td>
                        <td class="spec-highlight">1,935 GB/s</td>
                    </tr>
                    <tr>
                        <td>H100 (Hopper)</td>
                        <td>16,896</td>
                        <td class="spec-highlight">456 (4th gen)</td>
                        <td>5,120-bit HBM3</td>
                        <td class="spec-highlight">50MB</td>
                        <td class="spec-highlight">3,350 GB/s</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="memory-systems" class="section">
            <div class="section-header">
                <h2>Memory Systems Deep Dive</h2>
                <p>Comprehensive analysis of VRAM types, bandwidth calculations, and memory hierarchy optimization techniques.</p>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h3><div class="card-icon">📊</div>GDDR6/6X Technology</h3>
                    <p><strong>GDDR6</strong> operates at up to <span class="spec-highlight">16 Gbps per pin</span> with each chip featuring a 32-bit interface (internally structured as two 16-bit channels).</p>
                    <p><strong>GDDR6X</strong> pushes speeds to <span class="spec-highlight">21+ Gbps</span> using PAM4 signaling, doubling data transmission efficiency over traditional binary signaling.</p>
                    
                    <div class="code-block">
Bandwidth = (Bus Width × Memory Speed × Data Rate) ÷ 8

Example RTX 4090:
= (384 bits × 21 Gbps × 1) ÷ 8
= 1,008 GB/s theoretical peak
                    </div>
                </div>

                <div class="card">
                    <h3><div class="card-icon">🏗️</div>HBM Architecture</h3>
                    <p><strong>High Bandwidth Memory (HBM)</strong> achieves superior bandwidth through <span class="spec-highlight">extremely wide bus interfaces</span> and 3D-stacked design.</p>
                    <p>HBM3E delivers <span class="spec-highlight">1.2 TB/s per stack</span> at 9.6 Gbps with 1024-bit interface width, far exceeding GDDR6X capabilities.</p>
                    
                    <table style="width: 100%; margin-top: 1rem; font-size: 0.9rem;">
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td><strong>HBM3E</strong></td>
                            <td>Up to 1.2 TB/s per stack</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td><strong>HBM3</strong></td>
                            <td>819 GB/s per stack</td>
                        </tr>
                        <tr>
                            <td><strong>HBM2E</strong></td>
                            <td>460 GB/s per stack</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3><div class="card-icon">⚖️</div>Memory Requirements for Large Models</h3>
                <p>Understanding memory scaling is crucial for cluster planning:</p>
                
                <div class="grid grid-2" style="margin-top: 1rem;">
                    <div>
                        <h4>Model Size → Memory Requirements</h4>
                        <ul style="margin-left: 1rem;">
                            <li><strong>Llama 2/3.1 70B:</strong> 140GB (FP16) / 35GB (INT4)</li>
                            <li><strong>Llama 3.1 405B:</strong> 810GB (FP16) / 203GB (INT4)</li>
                            <li><strong>GPT-3 175B:</strong> 350GB (FP16) / 88GB (INT4)</li>
                        </ul>
                    </div>
                    <div>
                        <h4>KV-Cache Impact</h4>
                        <ul style="margin-left: 1rem;">
                            <li><strong>~1MB per token</strong> for multi-head attention</li>
                            <li><strong>128K context:</strong> +128GB memory requirement</li>
                            <li><strong>PagedAttention:</strong> Reduces waste from 70% to &lt;4%</li>
                        </ul>
                    </div>
                </div>

                <div class="code-block">
# Home cluster memory planning example
RTX 4090 Setup (2x cards = 48GB total):
✓ Llama 70B INT4 (35GB) + KV-cache (10GB) = 45GB ← Fits!
✗ Llama 70B FP16 (140GB) ← Requires 6+ cards or distributed setup

Professional Setup (4x RTX 6000 Ada = 192GB total):
✓ Llama 70B FP16 (140GB) + large KV-cache (50GB) = 190GB ← Fits!
✓ Llama 405B INT4 (203GB) ← Requires distributed memory
                </div>
            </div>
        </section>

        <section id="nvlink-interconnects" class="section">
            <div class="section-header">
                <h2>NVLink & High-Speed Interconnects</h2>
                <p>Revolutionary interconnect technologies enabling unprecedented GPU-to-GPU communication bandwidth and multi-node scaling.</p>
            </div>

            <div class="interactive-demo">
                <div class="demo-content">
                    <h3>🔗 NVLink Evolution Timeline</h3>
                    <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 8px; margin: 1rem 0;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div style="text-align: center; padding: 1rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px;">
                                <h4>NVLink 1.0 (2016)</h4>
                                <div class="spec-highlight">20 Gbps per lane</div>
                                <div>40 GB/s per link</div>
                                <div>Pascal P100</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px;">
                                <h4>NVLink 2.0 (2017)</h4>
                                <div class="spec-highlight">25 Gbps per lane</div>
                                <div>50 GB/s per link</div>
                                <div>Volta V100</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px;">
                                <h4>NVLink 3.0 (2020)</h4>
                                <div class="spec-highlight">50 Gbps per lane</div>
                                <div>50 GB/s per link</div>
                                <div>Ampere A100</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px;">
                                <h4>NVLink 4.0 (2022)</h4>
                                <div class="spec-highlight">50 Gbps per lane</div>
                                <div>50 GB/s per link</div>
                                <div>Hopper H100: 18 links</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; border: 2px solid var(--accent-color); border-radius: 8px; background: rgba(255, 201, 71, 0.1);">
                                <h4>NVLink 5.0 (2024)</h4>
                                <div class="spec-highlight">100 GB/s per link</div>
                                <div>1.8 TB/s total per GPU</div>
                                <div>Blackwell GB200</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Interconnect Type</th>
                        <th>Bandwidth</th>
                        <th>Latency</th>
                        <th>Home Cluster Cost</th>
                        <th>Scalability</th>
                        <th>Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>PCIe 4.0 x16</td>
                        <td>32 GB/s</td>
                        <td>~500ns</td>
                        <td class="spec-highlight">$0 (included)</td>
                        <td>Single node only</td>
                        <td>Basic multi-GPU</td>
                    </tr>
                    <tr>
                        <td>NVLink Bridge</td>
                        <td class="spec-highlight">50-100 GB/s</td>
                        <td>~100ns</td>
                        <td>$200-400</td>
                        <td>2-4 GPUs max</td>
                        <td>High-end gaming/prosumer</td>
                    </tr>
                    <tr>
                        <td>Gigabit Ethernet</td>
                        <td>0.125 GB/s</td>
                        <td>~1ms</td>
                        <td class="spec-highlight">$50-200</td>
                        <td class="spec-highlight">Unlimited nodes</td>
                        <td>Basic distributed training</td>
                    </tr>
                    <tr>
                        <td>10GbE</td>
                        <td>1.25 GB/s</td>
                        <td>~10-50μs</td>
                        <td>$300-800</td>
                        <td class="spec-highlight">Unlimited nodes</td>
                        <td>Serious home clusters</td>
                    </tr>
                    <tr>
                        <td>InfiniBand HDR</td>
                        <td class="spec-highlight">25 GB/s</td>
                        <td class="spec-highlight">~100ns</td>
                        <td>$500-2000</td>
                        <td class="spec-highlight">Unlimited nodes</td>
                        <td>Professional home labs</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="rdma-networking" class="section">
            <div class="section-header">
                <h2>RDMA & Advanced Networking</h2>
                <p>Remote Direct Memory Access technologies that bypass CPU overhead for ultra-low latency GPU cluster communication.</p>
            </div>

            <div class="card">
                <h3><div class="card-icon">🎯</div>RDMA Fundamentals</h3>
                <p><strong>Remote Direct Memory Access (RDMA)</strong> enables direct memory-to-memory transfers between nodes without CPU involvement, dramatically reducing latency and CPU overhead.</p>
                
                <div class="grid grid-2" style="margin-top: 1rem;">
                    <div>
                        <h4>Traditional TCP/IP Networking</h4>
                        <ul style="margin-left: 1rem;">
                            <li>CPU processes every packet</li>
                            <li>Multiple memory copies</li>
                            <li>Kernel involvement required</li>
                            <li>20-30% CPU utilization</li>
                            <li>10-15 microsecond latency</li>
                        </ul>
                    </div>
                    <div>
                        <h4>RDMA Direct Path</h4>
                        <ul style="margin-left: 1rem;">
                            <li><span class="spec-highlight">Zero CPU involvement</span></li>
                            <li>Direct memory access</li>
                            <li>Kernel bypass</li>
                            <li><span class="spec-highlight">5-10% CPU utilization</span></li>
                            <li><span class="spec-highlight">2-5 microsecond latency</span></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="interactive-demo">
                <div class="demo-content">
                    <h3>📊 Network Performance Comparison</h3>
                    <p>Understanding the trade-offs between different networking solutions for home GPU clusters:</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            <div style="border: 2px solid var(--error-color); padding: 1rem; border-radius: 8px;">
                                <h4 style="color: var(--error-color); margin-bottom: 0.5rem;">Gigabit Ethernet</h4>
                                <div><strong>Bandwidth:</strong> 1 Gbps</div>
                                <div><strong>Latency:</strong> ~1ms</div>
                                <div><strong>Cost:</strong> $50-200</div>
                                <div><strong>Use:</strong> Basic setups</div>
                            </div>
                            
                            <div style="border: 2px solid var(--warning-color); padding: 1rem; border-radius: 8px;">
                                <h4 style="color: var(--warning-color); margin-bottom: 0.5rem;">10 Gigabit Ethernet</h4>
                                <div><strong>Bandwidth:</strong> 10 Gbps</div>
                                <div><strong>Latency:</strong> ~10-50μs</div>
                                <div><strong>Cost:</strong> $300-800</div>
                                <div><strong>Use:</strong> Serious home clusters</div>
                            </div>
                            
                            <div style="border: 2px solid var(--primary-color); padding: 1rem; border-radius: 8px;">
                                <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">RoCE v2 (25GbE)</h4>
                                <div><strong>Bandwidth:</strong> 25 Gbps</div>
                                <div><strong>Latency:</strong> ~2-5μs</div>
                                <div><strong>Cost:</strong> $500-1200</div>
                                <div><strong>Use:</strong> Professional setups</div>
                            </div>
                            
                            <div style="border: 2px solid var(--success-color); padding: 1rem; border-radius: 8px;">
                                <h4 style="color: var(--success-color); margin-bottom: 0.5rem;">InfiniBand HDR</h4>
                                <div><strong>Bandwidth:</strong> 200 Gbps</div>
                                <div><strong>Latency:</strong> ~100ns</div>
                                <div><strong>Cost:</strong> $800-2000</div>
                                <div><strong>Use:</strong> Data center class</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3><div class="card-icon">🔧</div>Home Implementation Strategies</h3>
                <p>Practical approaches for deploying RDMA in residential environments:</p>
                
                <div class="grid grid-3" style="margin-top: 1rem;">
                    <div style="padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px;">
                        <h4 style="color: var(--primary-color);">Entry Level ($300-800)</h4>
                        <ul style="margin-left: 1rem; font-size: 0.9rem;">
                            <li>Used ConnectX-3 IB cards</li>
                            <li>10GbE managed switch</li>
                            <li>2-4 node cluster</li>
                            <li>5-10X improvement vs GigE</li>
                        </ul>
                    </div>
                    <div style="padding: 1rem; border: 2px solid var(--primary-color); border-radius: 8px;">
                        <h4 style="color: var(--primary-color);">Professional ($1K-3K)</h4>
                        <ul style="margin-left: 1rem; font-size: 0.9rem;">
                            <li>ConnectX-5/6 adapters</li>
                            <li>25/40GbE or IB switch</li>
                            <li>4-8 node cluster</li>
                            <li>Near data-center performance</li>
                        </ul>
                    </div>
                    <div style="padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px;">
                        <h4 style="color: var(--text-light);">Enterprise ($5K+)</h4>
                        <ul style="margin-left: 1rem; font-size: 0.9rem;">
                            <li>Latest ConnectX-7 NICs</li>
                            <li>100GbE/NDR infrastructure</li>
                            <li>8+ node clusters</li>
                            <li>Data center equivalent</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="communication-protocols" class="section">
            <div class="section-header">
                <h2>Advanced Communication Protocols</h2>
                <p>Understanding NCCL, UCX, and collective communication patterns essential for distributed AI workloads.</p>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h3><div class="card-icon">🔗</div>NCCL (NVIDIA Collective Communication Library)</h3>
                    <p><strong>NCCL</strong> provides optimized collective operations for multi-GPU and multi-node communication, with automatic topology discovery and optimization.</p>
                    
                    <div class="code-block">
# Key NCCL environment variables for home clusters
export NCCL_SOCKET_IFNAME=ib0,eth0      # Network interfaces
export NCCL_IB_HCA=mlx5_0               # InfiniBand adapter
export NCCL_NET_GDR_LEVEL=5             # GPU Direct RDMA
export NCCL_IB_QPS_PER_CONNECTION=4     # Queue pairs per connection
export NCCL_IB_TC=106                   # Traffic class

# Performance tuning
export NCCL_BUFFSIZE=8388608             # 8MB buffer size
export NCCL_NTHREADS=16                  # CPU threads for NCCL
                    </div>
                    
                    <p><strong>Performance Impact:</strong> Proper NCCL configuration can achieve <span class="spec-highlight">8X improvements</span> over CPU-mediated transfers and reduce training time by <span class="spec-highlight">50%+</span>.</p>
                </div>

                <div class="card">
                    <h3><div class="card-icon">🌍</div>UCX (Unified Communication X)</h3>
                    <p><strong>UCX</strong> offers vendor-agnostic RDMA support with native CUDA integration, providing excellent alternative to proprietary solutions.</p>
                    
                    <div style="margin-top: 1rem; padding: 1rem; background: #fefce8; border-radius: 8px;">
                        <h4 style="color: var(--warning-color); margin-bottom: 0.5rem;">UCX Advantages:</h4>
                        <ul style="margin-left: 1rem;">
                            <li>Multi-transport support (IB, TCP, shared memory)</li>
                            <li>AMD GPU compatibility (ROCm integration)</li>
                            <li><span class="spec-highlight">2.85X bandwidth improvements</span> in 4-GPU configs</li>
                            <li>Intelligent path selection</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3><div class="card-icon">⚙️</div>Collective Communication Patterns</h3>
                <p>Understanding communication patterns is crucial for optimizing distributed AI training performance:</p>
                
                <div class="grid grid-2" style="margin-top: 1rem;">
                    <div>
                        <h4>All-Reduce Operations</h4>
                        <ul style="margin-left: 1rem;">
                            <li><strong>Use case:</strong> Gradient synchronization in distributed training</li>
                            <li><strong>Pattern:</strong> All nodes contribute data, all receive result</li>
                            <li><strong>Optimization:</strong> Ring or tree algorithms for bandwidth efficiency</li>
                            <li><strong>Performance:</strong> Critical for scaling beyond 8 GPUs</li>
                        </ul>
                    </div>
                    <div>
                        <h4>All-Gather/Reduce-Scatter</h4>
                        <ul style="margin-left: 1rem;">
                            <li><strong>Use case:</strong> Model parameter distribution/collection</li>
                            <li><strong>Pattern:</strong> Collect from all nodes or distribute to all</li>
                            <li><strong>Optimization:</strong> Hierarchical algorithms for large clusters</li>
                            <li><strong>Performance:</strong> Essential for large model parallelism</li>
                        </ul>
                    </div>
                </div>
                
                <div class="code-block">
# NCCL collective performance tuning
export NCCL_ALGO=Ring                    # Force ring algorithm
export NCCL_MIN_NRINGS=2                 # Minimum number of rings
export NCCL_MAX_NRINGS=8                 # Maximum number of rings

# For small clusters (2-8 nodes), tree algorithm often optimal
export NCCL_ALGO=Tree
export NCCL_TOPO_FILE=/path/to/topology.xml  # Custom topology
                </div>
            </div>
        </section>

        <section id="knowledge-summary" class="section">
            <div class="section-header">
                <h2>Key Concepts Mastered</h2>
                <p>Essential knowledge points from Part 1 that enable successful GPU cluster implementation.</p>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h3><div class="card-icon">🏗️</div>GPU Architecture Insights</h3>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Memory Hierarchy:</strong> L2 cache improvements (16X in Ada) reduce memory traffic by 50%</li>
                        <li><strong>Streaming Multiprocessors:</strong> Modern unified shader architecture maximizes flexibility</li>
                        <li><strong>Tensor Cores:</strong> 4th generation delivers 5X AI performance improvements</li>
                        <li><strong>Memory Controllers:</strong> Wide buses (384-bit+) enable high bandwidth utilization</li>
                    </ul>
                </div>

                <div class="card">
                    <h3><div class="card-icon">💾</div>Memory System Understanding</h3>
                    <ul style="margin-left: 1rem;">
                        <li><strong>GDDR6X vs HBM:</strong> Trade-offs between cost and bandwidth density</li>
                        <li><strong>Model Requirements:</strong> 70B models need 140GB (FP16) or 35GB (INT4)</li>
                        <li><strong>KV-Cache Impact:</strong> ~1MB per token significantly affects memory needs</li>
                        <li><strong>PagedAttention:</strong> Reduces memory waste from 70% to &lt;4%</li>
                    </ul>
                </div>

                <div class="card">
                    <h3><div class="card-icon">🔗</div>Interconnect Technologies</h3>
                    <ul style="margin-left: 1rem;">
                        <li><strong>NVLink Evolution:</strong> From 40 GB/s (v1.0) to 1.8 TB/s (v5.0)</li>
                        <li><strong>Home Implementation:</strong> Consumer NVLink bridges provide 50-100 GB/s</li>
                        <li><strong>PCIe Limitations:</strong> 32 GB/s bandwidth insufficient for distributed training</li>
                        <li><strong>Scaling Barriers:</strong> NVLink limited to 2-4 GPU direct connections</li>
                    </ul>
                </div>

                <div class="card">
                    <h3><div class="card-icon">🌐</div>RDMA Networking Benefits</h3>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Latency Reduction:</strong> 2-5μs (RDMA) vs 10-15μs (TCP/IP)</li>
                        <li><strong>CPU Efficiency:</strong> 5-10% vs 20-30% utilization</li>
                        <li><strong>RoCE Accessibility:</strong> RDMA over standard Ethernet infrastructure</li>
                        <li><strong>Cost Effectiveness:</strong> Used IB cards provide 5-10X improvements for $50-200</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="part2-preview" class="section">
            <div class="section-header">
                <h2>Coming Next: Part 2 - Hardware Planning & Infrastructure</h2>
                <p>Armed with fundamental knowledge, we now dive into practical implementation details for building your home GPU cluster.</p>
            </div>

            <div class="interactive-demo">
                <div class="demo-content">
                    <h3>🔨 What Part 2 Will Cover</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent-color);">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">🎯 GPU Selection Matrix</h4>
                            <ul style="margin-left: 1rem;">
                                <li>RTX 4090 vs RTX 6000 Ada comparisons</li>
                                <li>Memory capacity vs bandwidth trade-offs</li>
                                <li>Price/performance optimization strategies</li>
                                <li>Future-proofing considerations</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent-color);">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">⚡ Power & Electrical Planning</h4>
                            <ul style="margin-left: 1rem;">
                                <li>Circuit requirements for multi-GPU setups</li>
                                <li>PSU selection and redundancy planning</li>
                                <li>UPS sizing for cluster protection</li>
                                <li>Power consumption monitoring</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent-color);">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">❄️ Thermal Management</h4>
                            <ul style="margin-left: 1rem;">
                                <li>Air vs liquid cooling trade-offs</li>
                                <li>Rack design for maximum density</li>
                                <li>Noise considerations for home use</li>
                                <li>Temperature monitoring systems</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 8px; border: 2px solid var(--accent-color);">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">🌐 Network Architecture</h4>
                            <ul style="margin-left: 1rem;">
                                <li>Switch selection and topology design</li>
                                <li>Cable management and specifications</li>
                                <li>RDMA adapter configuration</li>
                                <li>Network security considerations</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.15); padding: 2rem; border-radius: 8px; margin-top: 2rem; text-align: center;">
                        <h4 style="margin-bottom: 1rem;">💰 Complete Cost Analysis Framework</h4>
                        <p style="opacity: 0.9; margin-bottom: 1rem;">Part 2 includes comprehensive budgeting tools covering initial hardware costs, ongoing operational expenses, and ROI calculations for different cluster configurations.</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem;">
                            <div style="background: var(--success-color); padding: 1rem; border-radius: 6px;">
                                <strong>Entry Level</strong><br>$3K - $8K
                            </div>
                            <div style="background: var(--primary-color); padding: 1rem; border-radius: 6px;">
                                <strong>Professional</strong><br>$12K - $25K
                            </div>
                            <div style="background: var(--warning-color); padding: 1rem; border-radius: 6px;">
                                <strong>Enterprise</strong><br>$25K - $50K
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div style="text-align: center; padding: 3rem 0; background: var(--bg-color);">
        <a href="part2.html" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 2rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">
            Continue to Part 2: Hardware Planning & Infrastructure →
        </a>
        <p style="margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">
            Complete guide to GPU selection, power planning, cooling, and network design
        </p>
    </div>

    <footer>
        <p>Part 1 of 4: Building Home GPU Clusters | <strong>Fundamentals & Theory Complete</strong></p>
        <p style="opacity: 0.7; margin-top: 0.5rem;">Next: Hardware Planning & Infrastructure Design</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initializeScrollTracking();
            initializeAnimations();
        });

        function initializeScrollTracking() {
            var sections = document.querySelectorAll('.section');
            var progressBar = document.getElementById('progressBar');
            
            if (!progressBar || sections.length === 0) return;
            
            var observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        
                        var sectionIndex = Array.prototype.indexOf.call(sections, entry.target);
                        var progress = ((sectionIndex + 1) / sections.length) * 100;
                        progressBar.style.width = progress + '%';
                    }
                });
            }, {
                threshold: 0.2,
                rootMargin: '0px 0px -100px 0px'
            });

            for (var i = 0; i < sections.length; i++) {
                observer.observe(sections[i]);
            }

            window.addEventListener('scroll', function() {
                var scrolled = window.pageYOffset;
                var maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                var scrollProgress = (scrolled / maxScroll) * 100;
                
                var currentWidth = parseFloat(progressBar.style.width) || 0;
                var newWidth = Math.max(currentWidth, scrollProgress);
                progressBar.style.width = Math.min(newWidth, 100) + '%';
            });
        }

        function initializeAnimations() {
            var grids = document.querySelectorAll('.grid');
            for (var i = 0; i < grids.length; i++) {
                var items = grids[i].querySelectorAll('.card');
                for (var j = 0; j < items.length; j++) {
                    items[j].style.animationDelay = (j * 0.1) + 's';
                }
            }

            var tables = document.querySelectorAll('.comparison-table');
            var tableObserver = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            for (var k = 0; k < tables.length; k++) {
                tables[k].style.opacity = '0';
                tables[k].style.transform = 'translateY(20px)';
                tables[k].style.transition = 'all 0.6s ease';
                tableObserver.observe(tables[k]);
            }
        }
    </script>
</body>
</html>